#pragma checksum "F:\Projects\OnSVN\Lanbiang\Langbiang_Web\WebApp\Views\SoatVe\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "f0b5bd14e631e2ed89a7670257771cfadfbbe164"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_SoatVe_Index), @"mvc.1.0.view", @"/Views/SoatVe/Index.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/SoatVe/Index.cshtml", typeof(AspNetCore.Views_SoatVe_Index))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"f0b5bd14e631e2ed89a7670257771cfadfbbe164", @"/Views/SoatVe/Index.cshtml")]
    public class Views_SoatVe_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(0, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 2 "F:\Projects\OnSVN\Lanbiang\Langbiang_Web\WebApp\Views\SoatVe\Index.cshtml"
  
    ViewData["Title"] = "Soát vé";
    Layout = "~/Views/Shared/_Layout.cshtml";

#line default
#line hidden
            BeginContext(92, 840, true);
            WriteLiteral(@"<style>
    .title-scan {
        font-size: 14pt;
        font-weight: normal;
    }
    .result-success {
        color: green;
    }

    .result-error {
        color: #ff0000;
    }

    .scan-result {
        width: 100%;
        height: auto;
        padding: 20px;
        border: 1px solid #ccc;
        background: #fff;
    }



    .content-scan {
        font-size: 17pt;
        font-weight: bold;
    }

    #alert-error {
        display: none;
    }

    #row-spiner {
        display: none;
    }

    #row-scan-display {
        display: none;
    }
</style>
<section class=""content"">
    <div class=""card"">
        <div class=""card-header"">
            <div class=""row"">
                <div class=""col-sm-4"">
                    <select class=""form-control"" id=""txt-zone"">
");
            EndContext();
#line 52 "F:\Projects\OnSVN\Lanbiang\Langbiang_Web\WebApp\Views\SoatVe\Index.cshtml"
                          
                            var lstGate = (List<DAL.Models.ComboBoxModel>)ViewBag.GateList;
                            if (lstGate.Count > 1)
                            {

#line default
#line hidden
            BeginContext(1136, 81, true);
            WriteLiteral("                                <option value=\"\">Chọn cổng cần soát vé</option>\r\n");
            EndContext();
#line 57 "F:\Projects\OnSVN\Lanbiang\Langbiang_Web\WebApp\Views\SoatVe\Index.cshtml"
                                foreach (var item in lstGate)
                                {

#line default
#line hidden
            BeginContext(1315, 43, true);
            WriteLiteral("                                    <option");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 1358, "\"", 1379, 1);
#line 59 "F:\Projects\OnSVN\Lanbiang\Langbiang_Web\WebApp\Views\SoatVe\Index.cshtml"
WriteAttributeValue("", 1366, item.Value, 1366, 13, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1380, 1, true);
            WriteLiteral(">");
            EndContext();
            BeginContext(1383, 9, false);
#line 59 "F:\Projects\OnSVN\Lanbiang\Langbiang_Web\WebApp\Views\SoatVe\Index.cshtml"
                                                              Write(item.Text);

#line default
#line hidden
            EndContext();
            BeginContext(1393, 11, true);
            WriteLiteral("</option>\r\n");
            EndContext();
#line 60 "F:\Projects\OnSVN\Lanbiang\Langbiang_Web\WebApp\Views\SoatVe\Index.cshtml"
                                }
                            }
                        

#line default
#line hidden
            BeginContext(1497, 1699, true);
            WriteLiteral(@"

                    </select>
                </div>
                <div class=""col-sm-8"">
                    <input type=""text"" onblur=""scanTicket()"" autofocus class=""form-control"" placeholder=""Click vào đây và quét"" id=""txt-scanvalue"" name=""txt-scanvalue"" />
                </div>
            </div>
        </div>
        <div class=""card-body"">
            <div class=""row"" style=""margin-top:10px;"" id=""row-scan-display"">
                <div class=""col-sm-4""></div>
                <div class=""col-sm-4"">
                    <div class=""scan-result"">
                        <div class=""title-scan"">Kết quả quét: &nbsp;<span class=""content-scan"" id=""res_result""></span></div>
                        <div class=""title-scan"">Mã vé: &nbsp; <span class=""content-scan"" id=""res_ticketCode""></span></div>
                        <div class=""title-scan"">Ngày xuất: &nbsp;<span class=""content-scan"" id=""res_date""></span></div>
                        <div class=""title-scan"">Số lượng: &nbsp;<span class=""c");
            WriteLiteral(@"ontent-scan"" id=""res_Quanti""></span></div>
                        <div class=""title-scan"">Loại vé: &nbsp;<span class=""content-scan"" id=""res_ticketType""></span></div>
                        <div class=""title-scan"">Địa điểm: &nbsp;<span class=""content-scan"" id=""res_zone""></span></div>

    
                    </div>
                    <div style=""width:100%;margin-top:5px; text-align:center;"">
                        <input type=""button"" value=""Tiếp tục quét"" class=""btn btn-success"" id=""btn-ok"" />
                    </div>
                </div>
                <div class=""col-sm-4""></div>

            </div>
        </div>
    </div>
</section>

");
            EndContext();
            DefineSection("scripts", async() => {
                BeginContext(3213, 4454, true);
                WriteLiteral(@" 
    <script>
        $(document).ready(function ()
        {
            $(""#btn-ok"").click(function () {
                $(""#row-scan-display"").hide();
                $(""#txt-scanvalue"").focus();
            });
        });


        function scanTicket() {
            $(""#row-spiner"").show();
            $(""#row-scan-display"").hide();


            setTimeout(function () {

                var valiScan = validateScan();
                if (valiScan !== ""ok"") {
                    $(""#row-scan-display"").show();
                    $(""#row-spiner"").hide();
                    $(""#alert-error"").html(valiScan);
                    $(""#alert-error"").show();
                } else {
                    $.ajax({
                        type: ""GET"",
                        contentType: 'application/json; charset=utf-8',
                        url: ""/SoatVe/ScanAction?ticketCode="" + $(""#txt-scanvalue"").val() + ""&gateCode="" + $(""#txt-zone"").val(),
                        success: func");
                WriteLiteral(@"tion (result) {
                            if (result != null && (result.error == null || result.error == """") && result.validscan == ""ThanhCong"") {
                                $(""#res_ticketCode"").html(result.ticketCode);
                                $(""#res_date"").html(result.saleDate);
                                $(""#res_Quanti"").html(result.quanti);
                                $(""#res_ticketType"").html(result.ticketType);
                                $(""#res_result"").html(result.resultScan);
                                $(""#res_result"").removeClass(""result-error"");
                                $(""#res_result"").addClass(""result-success"");
                                $(""#res_zone"").html(result.zoneName);
                                $(""#alert-error"").hide();
                                const audiotype1 = new Audio(""/mp3/thanhcong.mp3"");
                                audiotype1.play();

                            } else {
                                $(");
                WriteLiteral(@"""#res_ticketCode"").html(result.ticketCode);
                                $(""#res_date"").html(result.saleDate);
                                $(""#res_Quanti"").html(result.quanti);
                                $(""#res_ticketType"").html(result.ticketType);
                                $(""#res_result"").html(result.resultScan);
                                $(""#res_result"").removeClass(""result-success"");
                                $(""#res_result"").addClass(""result-error"");
                                $(""#res_zone"").html(result.zoneName);
                                $(""#alert-error"").html(result.error);
                                if (result.error != null && result.error != """") {
                                    $(""#alert-error"").show();
                                }
                                const audiotype1 = new Audio(""/mp3/thatbai.mp3"");
                                audiotype1.play();

                            }
                            $(""#row");
                WriteLiteral(@"-scan-display"").show();
                            $(""#row-spiner"").hide();
                            $(""#txt-scanvalue"").val("""");
                        },
                        error: function (request, status, error) {
                            $(""#res_ticketCode"").html($(""#txt-scanvalue"").val());
                            $(""#row-scan-display"").show();
                            $(""#row-spiner"").hide();
                            $(""#alert-error"").html(error);
                            $(""#alert-error"").show();
                            $(""#txt-scanvalue"").val("""");
                            const audiotype1 = new Audio(""/mp3/thatbai.mp3"");
                            audiotype1.play();
                        }


                    });
                }





            }, 200);








        }

        function validateScan() {
            var valid = ""error"";
            var scanValue = $(""#txt-scanvalue"").val();
            var zone = $(""#txt-zo");
                WriteLiteral(@"ne"").val();
            if (scanValue != null && scanValue == """") {
                valid = ""Giá trị quét không hợp lệ"";
            } else if (zone != null && zone == """") {
                valid = ""Chưa xác định tuyến quét"";
            } else {
                valid = ""ok"";
            }
            return valid;
        }



    </script>
");
                EndContext();
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
