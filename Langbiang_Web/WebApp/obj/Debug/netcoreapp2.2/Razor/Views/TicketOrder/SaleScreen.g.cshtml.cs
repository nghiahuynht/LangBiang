#pragma checksum "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "38d6be2a003ea6c9c89fbcba18b1000d4eca9c6b"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_TicketOrder_SaleScreen), @"mvc.1.0.view", @"/Views/TicketOrder/SaleScreen.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/TicketOrder/SaleScreen.cshtml", typeof(AspNetCore.Views_TicketOrder_SaleScreen))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 8 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
using DAL.Models.Customer;

#line default
#line hidden
#line 9 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
using DAL.Models.Ticket;

#line default
#line hidden
#line 10 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
using DAL.Entities;

#line default
#line hidden
#line 11 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
using DAL.Models;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"38d6be2a003ea6c9c89fbcba18b1000d4eca9c6b", @"/Views/TicketOrder/SaleScreen.cshtml")]
    public class Views_TicketOrder_SaleScreen : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(0, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 2 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
  
    ViewData["Title"] = "Bán vé thăm quan";
    Layout = "~/Views/Shared/_Layout.cshtml";

#line default
#line hidden
            BeginContext(101, 4, true);
            WriteLiteral("\r\n\r\n");
            EndContext();
            DefineSection("styles", async() => {
                BeginContext(215, 1058, true);
                WriteLiteral(@"
    <link rel=""stylesheet"" href=""https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css"">

    <style>
       

        .btn-num {
            width: 100%;
            padding: 5px 10px;
            font-size: 16pt !important;
            margin: 3px;
            text-align: center;
        }

            .btn-num:hover {
                background: #3c8dbc !important;
                cursor: pointer;
            }

        .ticket-selected {
            background: #0094ff;
            color: #fff;
        }

        .filter-option-inner-inner {
            font-weight: bold;
            color: #333333;
        }


        /*Ticket item list*/
        #div-ticket {
            border:1px solid #f4f4f4;
        }

        .ticket-item {
            color:#333;
        }

            .ticket-item:hover {
                background: #DDF000;
            }

        .ticket-item-selected {
            background: #90F5E7;
        }

");
                WriteLiteral("        \r\n        \r\n    </style>\r\n");
                EndContext();
            }
            );
            BeginContext(1276, 954, true);
            WriteLiteral(@"<section class=""content-header"">
    <div class=""container-fluid"">
        <div class=""row mb-2"">
            <div class=""col-sm-6"">
                <h1><span id=""span-price-policy-available""></span>&nbsp; BÁN VÉ </h1>
            </div>
            <div class=""col-sm-6"">
                <ol class=""breadcrumb float-sm-right"">
                    <li class=""breadcrumb-item active"">Trang chủ</li>
                    <li class=""breadcrumb-item"">Bán vé</li>
                </ol>
            </div>
        </div>
    </div><!-- /.container-fluid -->
</section>
<section class=""content"">
    <div class=""row"">
        <div class=""col-sm-6"">
            <input type=""hidden"" id=""hid_TicketCode"" value="""" />
            <input type=""hidden"" id=""hid_TicketPrice"" value="""" />

            <div id=""div-ticket"">
                <div class=""row"">
                    <table class=""table table-bordered bg-white"" id=""table-ticket-sale"">
");
            EndContext();
#line 87 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
                          
                            var lstGroupTicket = (List<TicketGroupModel>)ViewBag.GroupTicketList;
                            var lstTicket = (List<Ticket>)ViewBag.TicketList;
                            foreach (var itemGroup in lstGroupTicket)
                            {
                                var lstTicketSub = lstTicket.Where(x => x.TicketGroup == itemGroup.GroupCode);
                                if (lstTicketSub.Any())
                                {

#line default
#line hidden
            BeginContext(2742, 128, true);
            WriteLiteral("                                    <tr>\r\n                                        <th colspan=\"2\"><span class=\"text-blue\">::::: ");
            EndContext();
            BeginContext(2872, 19, false);
#line 96 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
                                                                                  Write(itemGroup.GroupName);

#line default
#line hidden
            EndContext();
            BeginContext(2892, 63, true);
            WriteLiteral(" :::::</span></th>\r\n                                    </tr>\r\n");
            EndContext();
#line 98 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
                                    foreach (var itemTicket in lstTicket.Where(x => x.TicketGroup == itemGroup.GroupCode))
                                    {

#line default
#line hidden
            BeginContext(3118, 43, true);
            WriteLiteral("                                        <tr");
            EndContext();
            BeginWriteAttribute("id", " id=\"", 3161, "\"", 3191, 2);
            WriteAttributeValue("", 3166, "ticket-", 3166, 7, true);
#line 100 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
WriteAttributeValue("", 3173, itemTicket.Code, 3173, 18, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3192, 20, true);
            WriteLiteral(" class=\"ticket-item\"");
            EndContext();
            BeginWriteAttribute("onclick", " onclick=\"", 3212, "\"", 3281, 5);
            WriteAttributeValue("", 3222, "mouseSelectTicket(\'", 3222, 19, true);
#line 100 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
WriteAttributeValue("", 3241, itemTicket.Code, 3241, 18, false);

#line default
#line hidden
            WriteAttributeValue("", 3259, "\',", 3259, 2, true);
#line 100 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
WriteAttributeValue("", 3261, itemTicket.Price, 3261, 19, false);

#line default
#line hidden
            WriteAttributeValue("", 3280, ")", 3280, 1, true);
            EndWriteAttribute();
            BeginContext(3282, 96, true);
            WriteLiteral(">\r\n                                            <td width=\"25%\"><i class=\"fa fa-tag\"></i> &nbsp; ");
            EndContext();
            BeginContext(3380, 15, false);
#line 101 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
                                                                                         Write(itemTicket.Code);

#line default
#line hidden
            EndContext();
            BeginContext(3396, 67, true);
            WriteLiteral("</td>\r\n                                            <td width=\"75%\">");
            EndContext();
            BeginContext(3465, 22, false);
#line 102 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
                                                        Write(itemTicket.Description);

#line default
#line hidden
            EndContext();
            BeginContext(3488, 56, true);
            WriteLiteral("</td>\r\n\r\n                                        </tr>\r\n");
            EndContext();
#line 105 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
                                    }


                                }





                            }
                        

#line default
#line hidden
            BeginContext(3690, 582, true);
            WriteLiteral(@"                    </table>
                    
                </div>
               

            </div>



        </div>
        <div class=""col-sm-6"">
            <div class=""card"">
                <div class=""card-header"">
                    <div class=""row"">
                        <div class=""col-sm-6"">
                            <div class=""col-sm-12""><label class=""col-form-label"">Loại khách hàng</label></div>
                            <div class=""col-sm-12"">
                                <select class=""form-control"" id=""ddl-customer-type"">
");
            EndContext();
#line 134 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
                                      
                                        var lstCustType = (List<CustomerType>)ViewBag.ListCustType;

                                        foreach (var item in lstCustType)
                                        {
                                            string selected = item.Code == "Khach_Le" ? "selected='selected'" : string.Empty;

#line default
#line hidden
            BeginContext(4660, 51, true);
            WriteLiteral("                                            <option");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 4711, "\"", 4731, 1);
#line 140 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
WriteAttributeValue("", 4719, item.Code, 4719, 12, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(4732, 1, true);
            WriteLiteral(" ");
            EndContext();
            BeginContext(4735, 8, false);
#line 140 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
                                                                     Write(selected);

#line default
#line hidden
            EndContext();
            BeginContext(4744, 1, true);
            WriteLiteral(">");
            EndContext();
            BeginContext(4746, 9, false);
#line 140 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
                                                                                Write(item.Name);

#line default
#line hidden
            EndContext();
            BeginContext(4755, 11, true);
            WriteLiteral("</option>\r\n");
            EndContext();
#line 141 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
                                        }
                                    

#line default
#line hidden
            BeginContext(4848, 4056, true);
            WriteLiteral(@"                                </select>

                            </div>
                        </div>
                        <div class=""col-sm-6"">
                            <div class=""col-sm-12""><label class=""col-form-label"">Khách hàng</label></div>
                            <div class=""col-sm-12"">
                                <select class=""form-control"" id=""ddl-customer"" data-style=""btn-info"" data-live-search=""true""></select>

                            </div>
                        </div>

                    </div>
                    <div class=""row"">
                        <div class=""col-sm-6"">
                            <label class=""col-md-12 col-form-label"">Đối tượng</label>
                            <div class=""col-md-12"">
                                <select id=""ddl-objType"" class=""form-control"" data-style=""btn-info"">
                                    <option value=""NguoiLon"">Người lớn</option>
                                    <option value=""TreEm""");
            WriteLiteral(@">Trẻ em</option>
                                </select>
                            </div>
                        </div>
                        <div class=""col-sm-6"">
                            <label class=""col-md-12 col-form-label"">Đơn giá</label>
                            <div class=""col-md-12"">
                                <input type=""number"" class=""form-control"" style=""font-size:16pt;font-weight:bold;"" onblur=""calculaTotal()"" id=""txt-price-by-policy"" />
                            </div>
                        </div>
                    </div>
                    <div class=""row"">
                        <div class=""col-sm-6"">
                            <label class=""col-md-12 col-form-label"">Số lượng</label>
                            <div class=""col-md-12"">
                                <input type=""number"" class=""form-control"" style=""font-size:18pt;font-weight:bold;"" onblur=""calculaTotal()"" id=""txt-quanti"" value=""1"" />
                            </div>
              ");
            WriteLiteral(@"          </div>
                        <div class=""col-sm-6"">
                            <label class=""col-md-12 col-form-label"">Thành tiền</label>
                            <div class=""col-md-12"">
                                <h5 id=""span-total"" style=""font-size:20pt;color:#ff0000"">0</h5>
                            </div>
                        </div>
                    </div>
                    <div class=""row"">
                        <div class=""col-sm-6"">
                            <label class=""col-md-12 col-form-label"">Loại đơn</label>
                            <div class=""row"">
                                <div class=""col-md-6"">
                                    <input type=""radio"" style=""width:15px;height:15px;"" value=""false"" name=""radioisfree"" checked=""checked"" />&nbsp;Bình thường
                                </div>
                                <div class=""col-md-6"">
                                    <input type=""radio"" style=""width:15px;height:15px;"" valu");
            WriteLiteral(@"e=""true"" name=""radioisfree"" />&nbsp;Miễn phí
                                </div>
                            </div>

                        </div>
                        <div class=""col-sm-6"">
                            <label class=""col-md-12 col-form-label"">Kiểu in</label>
                            <div class=""col-md-12"">
                                <select id=""ddl-printtypes"" class=""form-control"" data-style=""btn-info"">
                                    <option value=""InLe"">In lẻ</option>
                                    <option value=""InGop"">In gộp</option>
                                    <option value=""InQRCode"">In QR Code</option>
                                </select>
                            </div>
                        </div>




                    </div>
                </div>
                <div class=""card-body"">
    
                    
                    <br />
                    <div class=""row"">
");
            EndContext();
#line 221 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
                          
                            for (int stt = 1; stt <= 9; stt++)
                            {

#line default
#line hidden
            BeginContext(9027, 120, true);
            WriteLiteral("                                <div class=\"col-sm-3\">\r\n                                    <div class=\"btn-num bg-info\"");
            EndContext();
            BeginWriteAttribute("onclick", " onclick=\"", 9147, "\"", 9173, 3);
            WriteAttributeValue("", 9157, "clickNum(", 9157, 9, true);
#line 225 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
WriteAttributeValue("", 9166, stt, 9166, 6, false);

#line default
#line hidden
            WriteAttributeValue("", 9172, ")", 9172, 1, true);
            EndWriteAttribute();
            BeginContext(9174, 1, true);
            WriteLiteral(">");
            EndContext();
            BeginContext(9177, 3, false);
#line 225 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
                                                                                        Write(stt);

#line default
#line hidden
            EndContext();
            BeginContext(9181, 48, true);
            WriteLiteral("</div>\r\n                                </div>\r\n");
            EndContext();
#line 227 "D:\Projects\OnGit\LangBianSytem\Langbiang_Web\WebApp\Views\TicketOrder\SaleScreen.cshtml"
                            }

#line default
#line hidden
            BeginContext(9260, 385, true);
            WriteLiteral(@"                            <div class=""col-sm-3"">
                                <div class=""btn-num bg-info"" onclick=""clickNum(0)"">0</div>
                            </div>
                            <div class=""col-sm-6"">
                                <div class=""btn-num bg-warning"" onclick=""clearQuanti()"">XOÁ NHẬP LẠI SỐ LƯỢNG</div>
                            </div>
");
            EndContext();
            BeginContext(9672, 1289, true);
            WriteLiteral(@"                    </div>
                    <div class=""row"">
                        <div class=""col-sm-12"">
                            <div class=""btn-num bg-success"" onclick=""SaleOrderByGate()"">OK BÁN VÉ</div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class=""clearfix""></div>
        <br /> <br />

        <div class=""col-sm-12"" style=""margin-top:10px;"">
            <div class=""card"">
                <div class=""card-header card-outline card-primary with-border"">
                    <h3 class=""card-title text-red"">Lưu ý: trường hợp lỗi bán vé và cách khắc phục</h3>

                </div>
                <div class=""card-body"">
                    <span><strong>1. Lỗi thông báo bán vé không thành công: </strong>Kiểm tra internet, hoặc đăng xuất ra và đăng nhập lại</span><br />
                    <span><strong>2. Không in được vé: </strong>Kiểm tra máy in xem có kẹt giấy hoặc hết giấy không? sau đ");
            WriteLiteral(@"ó vào lịch sửa bán vé in lại</span><br />
                    <span><strong>3. Không truy cập được phần mềm: </strong>Kiểm tra internet và liên hệ GAMAN hỗ trợ</span>
                </div>

            </div>
        </div>


    </div>



</section>
");
            EndContext();
            DefineSection("scripts", async() => {
                BeginContext(10978, 9585, true);
                WriteLiteral(@"

    <script src=""https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.8/umd/popper.min.js""></script>
    <script src=""https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js""></script>


    <script>
        var arrPricePolicy = [];
        $(document).ready(function () {

            GetAllPricePolicy();
            GetCustomerByType();
            $(""#ddl-customer-type"").change(function () {
                GetCustomerByType();
                let priceSale = GetPriceForSale();
                $(""#txt-price-by-policy"").val(priceSale);
                calculaTotal();
            });

            $(""#ddl-objType"").change(function () {
                let priceSale = GetPriceForSale();
                $(""#txt-price-by-policy"").val(priceSale);
                calculaTotal();
            });

            


        });


        function GetAllPricePolicy() {
            $.ajax({
                type: ""Get"",
                contentType: 'applicat");
                WriteLiteral(@"ion/json; charset=utf-8',
                url: ""/PricePolicy/GetAllPricePolicy"",
                success: function (res) {
                    debugger;
                    arrPricePolicy = res;
                    if (arrPricePolicy != null && arrPricePolicy.length > 0) {
                        $(""#span-price-policy-available"").addClass(""fa fa-star"");
                    }
                }
            });
        }


       

        function mouseSelectTicket(ticketCode, price) {
            
            if (!$(""#ticket-"" + ticketCode).hasClass(""ticket-item-selected""))
            {
                $("".ticket-item"").removeClass(""ticket-item-selected"");
                $(""#ticket-"" + ticketCode).addClass(""ticket-item-selected"");
                $(""#hid_TicketCode"").val(ticketCode);
                $(""#hid_TicketPrice"").val(price);

                let priceSale = GetPriceForSale();
                $(""#txt-price-by-policy"").val(priceSale);
                calculaTotal();
         ");
                WriteLiteral(@"   };


        }
        function calculaTotal() {
            let quanti = ($(""#txt-quanti"").val() == """" || $(""#txt-quanti"").val() == null) ? 0 : parseInt($(""#txt-quanti"").val());
            let price = ($(""#txt-price-by-policy"").val() == """" || $(""#txt-price-by-policy"") == null) ? 0 : parseFloat($(""#txt-price-by-policy"").val());

          
            let total = quanti * price;
            $(""#span-total"").html(RenderTotal(total));
        }


        function clickNum(num) {

            let currentNum = $(""#txt-quanti"").val();
            let newNum = currentNum + """" + num;

            $(""#txt-quanti"").val(newNum);
            calculaTotal();
        }
        function clearQuanti() {

            $(""#txt-quanti"").val(null);
            calculaTotal();
        }




        function GetCustomerByType() {
            let customerType = $(""#ddl-customer-type"").val();
            $.ajax({
                type: ""Get"",
                contentType: 'application/json; chars");
                WriteLiteral(@"et=utf-8',
                url: ""/Customer/GetListCustomerByCustType?customerType="" + customerType,
                success: function (res) {
                    let optionCus = """";
                    $.each(res, function (key, value) {
   
                        optionCus = optionCus + ""<option value='"" + value.customerCode+""'>""+value.customerName+""</option>"";
                    });
                    $(""#ddl-customer"").html(optionCus);

                }
            });
        }


        function GetPriceForSale() {
            let ticketCode = $(""#hid_TicketCode"").val();
            let customerType = $(""#ddl-customer-type"").val();
            let objType = $(""#ddl-objType"").val();

            let policyOject = arrPricePolicy.filter(x => x.ticketCode == ticketCode
                && x.customerType == customerType
                && x.customerForm == objType)[0];

            if (policyOject != null) {
                return policyOject.price;
            } else {
         ");
                WriteLiteral(@"       return 0;
            }


        }

        function SaleOrderByGate()
        {

            


            if ($(""#txt-quanti"").val() == """" || $(""#txt-quanti"").val() == null) {
                bootbox.alert(AlertFail(""Bạn chưa chọn số lượng""));
            } else if ($(""#hid_TicketCode"").val() == """" || $(""#hid_TicketCode"").val() == null) {
                bootbox.alert(AlertFail(""Bạn chưa chọn vé bán""));
            } else {

                let quanti = ($(""#txt-quanti"").val() == """" || $(""#txt-quanti"").val() == null) ? 0 : parseInt($(""#txt-quanti"").val());
                let doituong = $(""#ddl-objType"").val();
                let isFree = $('input[name=""radioisfree""]:checked').val();
                let price = GetPriceForSale();

                if (price == 0) // nếu price ko nằm trong policy
                {
                    price = parseFloat($(""#txt-price-by-policy"").val());
                }

                debugger;
                let customerName = $(""#dd");
                WriteLiteral(@"l-customer option:selected"").text();
                var modelData = {
                    TicketCode: $(""#hid_TicketCode"").val(),
                    CustomerCode: $(""#ddl-customer"").val(),
                    CustomerName: customerName,
                    CustomerType: $(""#ddl-customer-type"").val(),
                    ObjType: doituong,
                    PrintType: ""Ve_Le"",
                    Quanti: quanti,
                    Price: price,
                    IsFree: isFree
                }

                $.ajax({
                    type: ""POST"",
                    contentType: 'application/json; charset=utf-8',
                    url: ""/TicketOrder/SaleOrderAction"",
                    dataType: 'json',
                    data: JSON.stringify(modelData),
                    beforeSend: function () {
                        ShowWaiting();
                    },
                    success: function (res) {
                        HideWaiting();
                        d");
                WriteLiteral(@"ebugger;
                        if (res.lstSubCode.length > 0)
                        {

                            bootbox.alert(AlertSuccess(""Bán vé thành công, chuẩn bị in vé""), function () {
                                let printOptionVal = $(""#ddl-printtypes"").val();
                                PrintOrder(printOptionVal, res.orderId, res.lstSubCode);
                                ResetSale();
                            });

                        } else {
                            bootbox.alert(AlertFail(""Bán vé không thành công, vui lòng đăng xuất và đăng nhập lại""));
                        }

                    }
                });
            }





        }


        function PrintOrder(printOption,orderId ,lstTicketSuccess) {
            debugger;
            if (printOption == ""InLe"") {
                $.each(lstTicketSuccess, function (index, value) {
                    //printPdf(""https://langbian.gamanjsc.com/ticketorder/GetPDFForPrint?subId="" + ");
                WriteLiteral(@"value.subId);
                    printPdf(""http://localhost:44377/ticketorder/GetPDFForPrint?subId="" + value.subId);
                });
            } else if (printOption == ""InGop"") {
                let firstRowId = lstTicketSuccess[0].subId;
                //printPdf(""https://langbian.gamanjsc.com/ticketorder/GetPDFForPrint?subId="" + firstRowId);
                printPdf(""http://localhost:44377/ticketorder/GetPDFForPrint?subId="" + firstRowId);
            } else if (printOption == ""InQRCode"") {
                window.open('http://localhost:44377/ticketorder/PrintQRview?orderId=' + orderId, '_blank');
            }
        }
        


        function selectTicketItem(ticketCode, price, obj) {

            debugger;
            $(""#hid_GateCode"").val(null);
            $(""#hid_GatePrice"").val(null);

            $(""#hid_GateCode"").val(ticketCode);
            $(""#hid_GatePrice"").val(price);

            $(""#span-ticket-selected"").html("""");
            $(""#span-ticket-selected"").h");
                WriteLiteral(@"tml(ticketCode);

            $("".ticket-item"").removeClass(""ticket-item-selected"");
            $(obj).addClass(""ticket-item-selected"");

            calculaTotal();





        }

        function printPdf(url) {
            var iframe = document.createElement('iframe');
            // iframe.id = 'pdfIframe'
            iframe.className = 'pdfIframe'
            document.body.appendChild(iframe);
            iframe.style.display = 'none';
            iframe.onload = function () {
                setTimeout(function () {
                    iframe.focus();
                    iframe.contentWindow.print();
                    URL.revokeObjectURL(url)
                    // document.body.removeChild(iframe)
                }, 1);
            };
            iframe.src = url;
            // URL.revokeObjectURL(url)
        }

        function ResetSale() {
            $("".ticket-item"").removeClass(""ticket-item-selected"");
            $(""#txt-quanti"").val(1);
            $(""#hi");
                WriteLiteral(@"d_TicketCode"").val(null);
            $(""#txt-price-by-policy"").val(null);
            calculaTotal();
        }
        function RenderTotal(data) {
            var res = """";
            if (data !== undefined) {
                res = data.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,');
            }
            return res;
        }
    </script>
");
                EndContext();
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
